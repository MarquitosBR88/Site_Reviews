<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GAGAU GAMES</title>
    <link rel="shortcut icon" href="imagens/download.jpg" type="image/x-icon" />
    <link rel="stylesheet" href="style/style.css" />
    <link href="style/style.css" rel="stylesheet" />
  </head>
  <body>
    <header>
      <div class="container header-flex">
        <h1 class="logo">üéÆ GAGAU GAMES</h1>
        <nav>
          <ul class="nav-list">
            <li><a href="#">In√≠cio</a></li>
            <li><a href="#reviews">Reviews</a></li>
            <li><a href="#sobre">Sobre</a></li>
            <li><a href="#contato">Contato</a></li>
            <li>
              <a href="Login.html" class="btn-login">Login</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <section class="hero">
      <div class="container hero-content">
        <h2>Os melhores reviews dos maiores games!</h2>
        <p>An√°lises honestas, atualizadas e com notas da comunidade gamer.</p>
      </div>
    </section>

    <main class="container" id="reviews">
      <h2 class="section-title">√öltimos Reviews</h2>
      <div style="margin-bottom: 16px">
        <label for="genre-select">Filtrar por G√™nero:</label>
        <select id="genre-select">
          <option value="">Todos</option>
          <option value="action">A√ß√£o</option>
          <option value="indie">Indie</option>
          <option value="adventure">Aventura</option>
          <option value="rpg">RPG</option>
          <option value="strategy">Estrat√©gia</option>
          <option value="shooter">Tiro</option>
          <option value="casual">Casual</option>
          <option value="simulation">Simula√ß√£o</option>
          <option value="puzzle">Quebra-cabe√ßa</option>
          <option value="arcade">Arcade</option>
          <option value="platformer">Plataforma</option>
          <option value="racing">Corrida</option>
          <option value="sports">Esportes</option>
          <option value="fighting">Luta</option>
        </select>
      </div>
      <div class="grid" id="games-container"></div>
      <div style="margin-top: 16px">
        <button id="prev-btn" disabled>Anterior</button>
        <span id="page-info">P√°gina 1</span>
        <button id="next-btn">Pr√≥xima</button>
      </div>
    </main>

    <section class="sobre" id="sobre">
      <div class="container">
        <h2>Sobre o site</h2>
        <p>
          Somos apaixonados por games e queremos compartilhar an√°lises de
          qualidade com a comunidade gamer. Aqui voc√™ encontra reviews
          imparciais, com foco em jogabilidade, gr√°ficos, som e hist√≥ria.
        </p>
      </div>
    </section>

    <footer id="contato">
      <div class="container">
        <p>üìß contato@gamereviews.com | &copy; 2025 GAGAU GAMES</p>
      </div>
    </footer>

    <script>
      const apiKey = "6c3421f99b5f4057a395696e15f2ca7f";
      const pageSize = 20;
      let currentPage = 1;
      let currentGenre = "";

      const gamesContainer = document.getElementById("games-container");
      const genreSelect = document.getElementById("genre-select");
      const prevBtn = document.getElementById("prev-btn");
      const nextBtn = document.getElementById("next-btn");
      const pageInfo = document.getElementById("page-info");

      async function fetchGames() {
        const genreQuery = currentGenre ? `&genres=${currentGenre}` : "";
        const url = `https://api.rawg.io/api/games?key=${apiKey}&page=${currentPage}&page_size=${pageSize}${genreQuery}`;

        try {
          const response = await fetch(url);
          const data = await response.json();

          displayGames(data.results);
          updatePaginationButtons(data);
        } catch (error) {
          gamesContainer.innerHTML = "<p>Erro ao carregar jogos.</p>";
          console.error(error);
        }
      }

      function displayGames(games) {
        gamesContainer.innerHTML = "";

        if (games.length === 0) {
          gamesContainer.innerHTML =
            "<p>Nenhum jogo encontrado para este filtro.</p>";
          return;
        }

        games.forEach((game) => {
          const card = document.createElement("div");
          card.classList.add("card");

          card.innerHTML = `
        <img src="${
          game.background_image ||
          "https://via.placeholder.com/420x236?text=No+Image"
        }" alt="${game.name}" />
        <h3>${game.name}</h3>
        <p><strong>Lan√ßamento:</strong> ${game.released || "N/A"}</p>
        <p><strong>Nota:</strong> ${game.rating} / 5</p>
        <p><strong>G√™neros:</strong> ${game.genres
          .map((g) => g.name)
          .join(", ")}</p>
      `;

          gamesContainer.appendChild(card);
        });
      }

      function updatePaginationButtons(data) {
        prevBtn.disabled = currentPage === 1;

        const totalResults = data.count;
        const totalPages = Math.ceil(totalResults / pageSize);

        nextBtn.disabled = currentPage >= totalPages;

        pageInfo.textContent = `P√°gina ${currentPage} de ${totalPages}`;
      }

      // Eventos
      genreSelect.addEventListener("change", () => {
        currentGenre = genreSelect.value;
        currentPage = 1;
        fetchGames();
      });

      prevBtn.addEventListener("click", () => {
        if (currentPage > 1) {
          currentPage--;
          fetchGames();
        }
      });

      nextBtn.addEventListener("click", () => {
        currentPage++;
        fetchGames();
      });

      // Chamada inicial para carregar os jogos ao abrir a p√°gina
      fetchGames();
    </script>
  </body>
</html>
